# JavaScript - 作用域

[[toc]]

## 编译原理

**程序中一段源代码在执行之前会执行三个步骤**

**1.分词/词法分析：**
将由字符组成的字符串分解成对编程语言来说有意义的代码块(词法单元)。
例如：
```javascript
var a = 2;
```
通常会被分解成为词法单元： var、a、=、2、；。
空格是否会被当做词法单元，取决于空格在这门语言中是否具有意义。

**2.解析/词法分析：**
将词法单元流（数组）转换成一个由元素逐级嵌套所组成的代表了程序语法结构的树（抽象语法树AST）。

**3.代码生成：**
将AST转换为可执行代码的过程称之为代码生成。
简单说：某种方法可以将var a = 2;的AST转化为一组机器指令。

**JavaScript引擎比只有三个步骤的语言编辑器要复杂，如：在语法分析和代码生成阶段有特定的步骤来对运行性能进行优化。**
**JavaScript的编译过程大部分情况下发生在代码执行前的几微秒**

## 理解作用域

1. 引擎：从头到尾负责整个JavaScript的编译及执行过程。
2. 编译器：负责语法分析及代码生成等工作。
3. 作用域：负责收集并维护由所有声明的标识符变量组成的一系列查询，并实施一套非常严格的规则，确定当前执行的代码对这些标识符的访问权限。

